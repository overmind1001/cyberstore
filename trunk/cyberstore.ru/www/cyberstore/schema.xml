<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="cyberstore" defaultIdMethod="native">
  <table name="basket" phpName="Basket">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" required="false" defaultValue="0"/>
    <column name="session_id" phpName="SessionId" type="VARCHAR" size="32" required="true"/>
    <foreign-key foreignTable="user" name="user_id_basket_constraint" onDelete="SET NULL" onUpdate="SET NULL">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="user_id_basket_constraint">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="catalog_div" phpName="CatalogDiv">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="32" required="true"/>
    <column name="parent_catalog_div_id" phpName="ParentCatalogDivId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="catalog_div" name="parent_catalog_constraint" onDelete="SET NULL" onUpdate="SET NULL">
      <reference local="parent_catalog_div_id" foreign="id"/>
    </foreign-key>
    <unique name="name">
      <unique-column name="name"/>
    </unique>
    <index name="parent_catalog_constraint">
      <index-column name="parent_catalog_div_id"/>
    </index>
  </table>
  <table name="feedback" phpName="Feedback">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="text" phpName="Text" type="LONGVARCHAR" required="true"/>
    <column name="date" phpName="Date" type="DATE" required="true"/>
    <column name="mark" phpName="Mark" type="INTEGER" required="false"/>
    <column name="good_id" phpName="GoodId" type="INTEGER" required="true"/>
    <foreign-key foreignTable="goods" name="good_id_constraint" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="good_id" foreign="id"/>
    </foreign-key>
    <index name="good_id_constraint">
      <index-column name="good_id"/>
    </index>
  </table>
  <table name="good_in_basket" phpName="GoodInBasket">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="count" phpName="Count" type="INTEGER" required="true"/>
    <column name="good_id" phpName="GoodId" type="INTEGER" required="true"/>
    <column name="basket_id" phpName="BasketId" type="INTEGER" required="true"/>
    <foreign-key foreignTable="basket" name="basket_constraint" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="basket_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="goods" name="good_constraint" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="good_id" foreign="id"/>
    </foreign-key>
    <index name="good_constraint">
      <index-column name="good_id"/>
    </index>
    <index name="basket_constraint">
      <index-column name="basket_id"/>
    </index>
  </table>
  <table name="goods" phpName="Goods">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="LONGVARCHAR" required="true"/>
    <column name="description" phpName="Description" type="LONGVARCHAR" required="true"/>
    <column name="price_current" phpName="PriceCurrent" type="FLOAT" required="true"/>
    <column name="count" phpName="Count" type="INTEGER" required="true"/>
    <column name="picture_id" phpName="PictureId" type="INTEGER" required="false"/>
    <column name="catalog_id" phpName="CatalogId" type="INTEGER" required="true"/>
  </table>
  <table name="goods_in_sale" phpName="GoodsInSale">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="price" phpName="Price" type="FLOAT" required="true"/>
    <column name="count" phpName="Count" type="INTEGER" required="true"/>
    <column name="sale_id" phpName="SaleId" type="INTEGER" required="true"/>
    <column name="good_id" phpName="GoodId" type="INTEGER" required="true"/>
    <foreign-key foreignTable="goods" name="good1_constraint" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="good_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="sales" name="sale_constraint" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="sale_id" foreign="id"/>
    </foreign-key>
    <index name="sale_constraint">
      <index-column name="sale_id"/>
    </index>
    <index name="good1_constraint">
      <index-column name="good_id"/>
    </index>
  </table>
  <table name="sales" phpName="Sales">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="date" phpName="Date" type="DATE" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="user" name="user_id1_constraint" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="user_id1_constraint">
      <index-column name="user_id"/>
    </index>
  </table>
  <table name="user" phpName="User">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="login" phpName="Login" type="VARCHAR" size="32" required="true"/>
    <column name="password" phpName="Password" type="VARCHAR" size="32" required="true"/>
    <unique name="login">
      <unique-column name="login"/>
    </unique>
  </table>
</database>
